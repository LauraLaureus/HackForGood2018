<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>lvlMain</name>
    <events>
        <include>Updater</include>
        <variable comment="Sito base" constant="1" name="CCON_BASEURL" sid="594909944114999" static="0" type="text">http://25inch.me</variable>
        <variable comment="Sito per upload foto" constant="1" name="CANVASUPLOAD_URL" sid="423671111371607" static="0" type="text">/wp-content/themes/zerif-pro-child/avatar-creator/canvasupload.php</variable>
        <variable comment="file grande AL MASSIMO" constant="1" name="UPLOAD_MAX" sid="753430256516278" static="0" type="number">8096000</variable>
        <variable comment="File grande ALMENO" constant="1" name="UPLOAD_MIN" sid="126711526131548" static="0" type="number">300000</variable>
        <variable comment="Tempo massimo di attesa prima di errore" constant="1" name="CCON_TIMEOUT" sid="434731935076487" static="0" type="number">300</variable>
        <variable comment="html5 cache blob image" constant="0" name="Upload_BLOB" sid="147195885498941" static="0" type="text"></variable>
        <variable comment="Nome file uploadato" constant="0" name="CustomName" sid="500236237963371" static="0" type="text">testName</variable>
        <event-block sid="296536148430687">
            <conditions>
                <condition id="0" name="On function" sid="995882545130743" type="Function">
                    <param id="0" name="Name">&quot;SnapPhoto&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="17" name="Execute Javascript" sid="370970678611988" type="Browser">
                    <param id="0" name="Javascript">&quot;document.getElementById(&apos;imageuploader&apos;).click();&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="855120835596096" title="25Lib">
            <sub-events>
                <event-block sid="703465694745687">
                    <conditions>
                        <condition id="0" name="On changed" sid="900717990220627" type="FileChooser" />
                    </conditions>
                    <actions>
                        <action id="15" name="Start group" sid="259727574813523" type="Browser">
                            <param id="0" name="Group name">&quot;File upload&quot;</param>
                        </action>
                        <action id="14" name="Log" sid="433227089322264" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;Name : &quot;&amp; FileChooser.FileNameAt(0)</param>
                        </action>
                        <action id="14" name="Log" sid="635551675939654" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;Size : &quot;&amp; FileChooser.FileSizeAt(0)</param>
                        </action>
                        <action id="14" name="Log" sid="582530149570097" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;FileType : &quot;&amp; FileChooser.FileTypeAt(0)</param>
                        </action>
                        <action id="14" name="Log" sid="540173175184378" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;url : &quot;&amp; FileChooser.FileURLAt(0)</param>
                        </action>
                        <action id="16" name="End group" sid="623456458261366" type="Browser" />
                    </actions>
                    <sub-events>
                        <event-block sid="708280779612526">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="171134895225855" type="System">
                                    <param id="0" name="First value">left(FileChooser.FileTypeAt(0), 5)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;image&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="905866003162022">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="844838116314338" type="System">
                                            <param id="0" name="First value">FileChooser.FileSizeAt(0)</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">UPLOAD_MIN</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="700851546731756">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="186336472047728" type="System">
                                                    <param id="0" name="First value">FileChooser.FileSizeAt(0)</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Second value">UPLOAD_MAX</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="185908303097641" type="System">
                                                    <param id="0" name="Variable">Upload_BLOB</param>
                                                    <param id="1" name="Value">FileChooser.FileURLAt(0)</param>
                                                </action>
                                                <action id="0" name="Set visible" sid="350198451911573" type="FileChooser">
                                                    <param id="0" name="Visibility">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="597012754307396">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="492689604456834" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="889671321812326" type="Function">
                                                    <param id="0" name="Name">&quot;ShowError&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;Your image is too big, please provide a smaller image!&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="446160434584759">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="940318274968292" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="204627921189273" type="Function">
                                            <param id="0" name="Name">&quot;ShowError&quot;</param>
                                            <param id="1" name="Parameter {n}">&quot;Your image is too small, please provide a bigger image&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="136272115438412">
                            <conditions>
                                <condition id="-22" name="Else" sid="331933548690913" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="654597197973137" type="Function">
                                    <param id="0" name="Name">&quot;ShowError&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;Please provide a valid image&quot; </param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="888689145274658">
                    <conditions>
                        <condition id="0" name="On function" sid="437052856596631" type="Function">
                            <param id="0" name="Name">&quot;TakeSnapshot&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="14" name="Log" sid="808561873200629" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;Make screenshot!&quot;</param>
                        </action>
                        <action id="21" name="Paste Layer" sid="518399370498081" type="Canvas">
                            <param id="0" name="Layer">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="395678221968663" type="Canvas">
                            <param id="0" name="Instance variable">LoadingScreenshot</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="933821309693828" type="Canvas">
                            <param id="0" name="Instance variable">LastScreen</param>
                            <param id="1" name="Value">Self.imageUrl</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="302734414365964">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="992896609549745" type="Canvas">
                            <param id="0" name="Instance variable">LoadingScreenshot</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="567304376850287" type="System">
                            <param id="0" name="First value">len(Canvas.LastScreen)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">100</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="644193369203847" type="Function">
                            <param id="0" name="Name">&quot;Pic_UploadPreview&quot;</param>
                            <param id="1" name="Parameter {n}">Canvas.LastScreen</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="954231920340847" type="Canvas">
                            <param id="0" name="Instance variable">LoadingScreenshot</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action disabled="1" id="-10" name="Set value" sid="740305646407439" type="Canvas">
                            <param id="0" name="Instance variable">LastScreen</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="963601945801154">
                    <conditions>
                        <condition id="0" name="On completed" sid="114599709288544" type="AJAX">
                            <param id="0" name="Tag">&quot;ImageUpload&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="14" name="Log" sid="634126566848196" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;Image uploaded! &quot; &amp; AJAX.LastData</param>
                        </action>
                        <action id="-16" name="Wait" sid="720106098961704" type="System">
                            <param id="0" name="Seconds">1.0</param>
                        </action>
                        <action id="0" name="Call function" sid="968607316090824" type="Function">
                            <param id="0" name="Name">&quot;UnBlockUI&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="0" name="Call function" sid="906490605573133" type="Function">
                            <param id="0" name="Name">&quot;PreviewUploaded&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="302763593540226">
                    <conditions>
                        <condition id="0" name="On function" sid="250785979663236" type="Function">
                            <param id="0" name="Name">&quot;Pic_UploadPreview&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action disabled="1" id="2" name="Post to URL" sid="940769411022215" type="AJAX">
                            <param id="0" name="Tag">&quot;ImageUpload&quot;</param>
                            <param id="1" name="URL">CCON_BASEURL &amp; CANVASUPLOAD_URL</param>
                            <param id="2" name="Data">&quot;&quot;</param>
                            <param id="3" name="Method">&quot;POST&quot;</param>
                        </action>
                        <action id="0" name="Execute" sid="779280487471446" type="CallJS">
                            <param id="0" name="Value">&quot;processPhoto(&apos;&quot;&amp;Canvas.LastScreen&amp;&quot;&apos;,&apos;&quot;&amp;CustomName&amp;&quot;_big.jpg&apos;);&quot;</param>
                        </action>
                        <action id="-12" name="Set group active" sid="815211734759247" type="System">
                            <param id="0" name="Group name">&quot;CheckOut&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="938482785969453" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action id="0" name="Call function" sid="737047644033128" type="Function">
                            <param id="0" name="Name">&quot;PreviewUploaded&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="937076663427807">
                    <conditions>
                        <condition id="0" name="On function" sid="955359508124933" type="Function">
                            <param id="0" name="Name">&quot;Pic_UploadImage&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="545512706841268">
                    <conditions>
                        <condition id="1" name="On error" sid="784433839974647" type="AJAX">
                            <param id="0" name="Tag">&quot;ImageUpload&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="757013560429331" type="Function">
                            <param id="0" name="Name">&quot;ShowError&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;Image upload failed, please reload the page&quot; </param>
                        </action>
                        <action id="14" name="Log" sid="793243155158253" type="Browser">
                            <param id="0" name="Type">2</param>
                            <param id="1" name="Message">&quot;Image upload error!&quot; &amp; AJAX.LastData</param>
                        </action>
                        <action id="0" name="Call function" sid="221456775625270" type="Function">
                            <param id="0" name="Name">&quot;UnBlockUI&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="292620329747440" title="Accessibility">
            <sub-events>
                <variable constant="0" name="Speak_LanguagesURI" sid="305478726772781" static="1" type="text"></variable>
                <event-block sid="913730257121991">
                    <conditions>
                        <condition id="0" name="On function" sid="984931962801057" type="Function">
                            <param id="0" name="Name">&quot;Speak&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="242899547721826">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="685599967787255" type="System">
                                    <param id="0" name="First value">tokencount(Speak_LanguagesURI,&quot;;&quot;)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="719866792546832" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,floor(random(tokencount(Speak_LanguagesURI,&quot;;&quot;))),&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.2</param>
                                    <param id="5" name="Pitch">random(2)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="735312155345408">
                            <conditions>
                                <condition id="-22" name="Else" sid="755175823748551" type="System" />
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="158260731611123" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,0,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.2</param>
                                    <param id="5" name="Pitch">random(2)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="942141185393563">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="250204545086272" type="ChatWindow">
                                    <param id="0" name="Text">Self.Text&amp; Function.Param(0)&amp;newline</param>
                                </action>
                                <action id="9" name="Scroll to bottom" sid="100177379183650" type="ChatWindow" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="380731582748539">
                    <conditions>
                        <condition id="0" name="On function" sid="149393218327780" type="Function">
                            <param id="0" name="Name">&quot;Speak_Chat&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="506226143646597">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="498826209969516" type="System">
                                    <param id="0" name="First value">tokencount(Speak_LanguagesURI,&quot;;&quot;)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="225768131608749" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,0,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.3</param>
                                    <param id="5" name="Pitch">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="309095812430344">
                            <conditions>
                                <condition id="-22" name="Else" sid="665892436090058" type="System" />
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="522656395831938" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,0,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.3</param>
                                    <param id="5" name="Pitch">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="149785271171974">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="274287811271021" type="ChatWindow">
                                    <param id="0" name="Text">Self.Text&amp; Function.Param(0)&amp;newline</param>
                                </action>
                                <action id="9" name="Scroll to bottom" sid="399884819124555" type="ChatWindow" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="674761141629385">
                    <conditions>
                        <condition id="0" name="On function" sid="682106772763727" type="Function">
                            <param id="0" name="Name">&quot;Speak_UI&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="570155637607984">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="620267065277352" type="System">
                                    <param id="0" name="First value">tokencount(Speak_LanguagesURI,&quot;;&quot;)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="842962931305044" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,1,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.5</param>
                                    <param id="5" name="Pitch">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="979218074817536">
                            <conditions>
                                <condition id="-22" name="Else" sid="382533117755886" type="System" />
                            </conditions>
                            <actions>
                                <action disabled="1" id="6" name="Speak text" sid="420913108332842" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,0,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.5</param>
                                    <param id="5" name="Pitch">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="992540113154806">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="588656582053942" type="ChatWindow">
                                    <param id="0" name="Text">Self.Text&amp; Function.Param(0)&amp;newline</param>
                                </action>
                                <action id="9" name="Scroll to bottom" sid="451471824782043" type="ChatWindow" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="211374308704465">
                    <conditions>
                        <condition id="0" name="On function" sid="657791411608045" type="Function">
                            <param id="0" name="Name">&quot;Speak_Other&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="111074411642799">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="163729523318127" type="System">
                                    <param id="0" name="First value">tokencount(Speak_LanguagesURI,&quot;;&quot;)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="497505786937342" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,2,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.5</param>
                                    <param id="5" name="Pitch">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="569140923220109">
                            <conditions>
                                <condition id="-22" name="Else" sid="270042294544786" type="System" />
                            </conditions>
                            <actions>
                                <action id="6" name="Speak text" sid="814861429062323" type="UserMedia">
                                    <param id="0" name="Text">Function.Param(0)</param>
                                    <param id="1" name="Language">&quot;&quot;</param>
                                    <param id="2" name="Voice URI">tokenat(Speak_LanguagesURI,0,&quot;;&quot;)</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="4" name="Rate">1.6</param>
                                    <param id="5" name="Pitch">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="858349684957542">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="641810800914996" type="ChatWindow">
                                    <param id="0" name="Text">Self.Text&amp; Function.Param(0)&amp;newline</param>
                                </action>
                                <action id="9" name="Scroll to bottom" sid="138833630253927" type="ChatWindow" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="552565549960148">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="816131799832737" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="337596695785331" type="Function">
                            <param id="0" name="Name">&quot;Init_Speak&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="182703074779696">
                    <conditions>
                        <condition id="0" name="On function" sid="950337032766114" type="Function">
                            <param id="0" name="Name">&quot;Init_Speak&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="978962227287922">
                            <conditions>
                                <condition id="-12" name="Repeat" sid="604948785812544" type="System">
                                    <param id="0" name="Count">UserMedia.VoiceCount</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="794958780274530">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="824613442454500" type="System">
                                            <param id="0" name="First value">find(UserMedia.VoiceURIAt(loopindex), &quot;US&quot;)</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="288251991887282" type="System">
                                            <param id="0" name="First value">find(UserMedia.VoiceURIAt(loopindex), &quot;UK&quot;)</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="355594800795266" type="System">
                                            <param id="0" name="First value">find(UserMedia.VoiceURIAt(loopindex), &quot;English&quot;)</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="980931811967576" type="System">
                                            <param id="0" name="Variable">Speak_LanguagesURI</param>
                                            <param id="1" name="Value">Speak_LanguagesURI&amp;UserMedia.VoiceURIAt(loopindex)&amp;&quot;;&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="911437267986145" title="CheckOut">
            <sub-events>
                <variable constant="0" name="IsImageUploaded" sid="620945119438341" static="1" type="number">-1</variable>
                <variable constant="0" name="FakeLoading" sid="339047231653012" static="1" type="number">0</variable>
                <event-block sid="262721063845619">
                    <conditions>
                        <condition id="0" name="On function" sid="833909858424965" type="Function">
                            <param id="0" name="Name">&quot;PreviewUploaded&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="776454503025025" type="System">
                            <param id="0" name="Variable">IsImageUploaded</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="419156059177052">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="150801719430916" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="823114825709155" type="System">
                            <param id="0" name="Variable">IsImageUploaded</param>
                            <param id="1" name="Value">-1</param>
                        </action>
                        <action id="-12" name="Set group active" sid="701067810765323" type="System">
                            <param id="0" name="Group name">&quot;PhasesChange&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-12" name="Set group active" sid="279477367926207" type="System">
                            <param id="0" name="Group name">&quot;AvatarEditor&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-16" name="Wait" sid="925904239100161" type="System">
                            <param id="0" name="Seconds">CCON_TIMEOUT</param>
                        </action>
                        <action id="0" name="Call function" sid="231178467177336" type="Function">
                            <param id="0" name="Name">&quot;UnBlockUI&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-12" name="Set group active" sid="305032456567736" type="System">
                            <param id="0" name="Group name">&quot;PhasesChange&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-12" name="Set group active" sid="730462896758355" type="System">
                            <param id="0" name="Group name">&quot;AvatarEditor&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-12" name="Set group active" sid="161995408161824" type="System">
                            <param id="0" name="Group name">&quot;CheckOut&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="0" name="Call function" sid="370309000809471" type="Function">
                            <param id="0" name="Name">&quot;ShowError&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;Something goes wrong on checkout...please try again&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="405813955669544">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="202538366971210" type="System">
                            <param id="0" name="Interval (seconds)">0.5</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="790961140016558" type="System">
                            <param id="0" name="Variable">IsImageUploaded</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="794474919603509" type="System">
                            <param id="0" name="Variable">IsImageUploaded</param>
                            <param id="1" name="Value">int(Browser.ExecJS(&quot;imageUploaded;&quot;))</param>
                        </action>
                        <action id="14" name="Log" sid="511437079432485" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;Status &quot; &amp;IsImageUploaded</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="226287404788062">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="155133756850432" type="System">
                                    <param id="0" name="Variable">IsImageUploaded</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="352044687993062" type="System">
                                    <param id="0" name="Variable">FakeLoading</param>
                                    <param id="1" name="Value">100</param>
                                </action>
                                <action id="0" name="Call function" sid="670134172885305" type="Function">
                                    <param id="0" name="Name">&quot;BlockUI&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;Finished!&#x0D;&#x0A;100%&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="269794776563028">
                            <conditions>
                                <condition id="-22" name="Else" sid="165542700573205" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="519547796606433" type="Function">
                                    <param id="0" name="Name">&quot;BlockUI&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;Finishing stuff... please be patient&#x0D;&#x0A;&quot;&amp;FakeLoading-1&amp;&quot;%&quot;</param>
                                </action>
                                <action disabled="1" id="-10" name="Add to" sid="460824839581750" type="System">
                                    <param id="0" name="Variable">FakeLoading</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="329703525997274" type="System">
                                    <param id="0" name="Variable">FakeLoading</param>
                                    <param id="1" name="Value">max(int(Browser.ExecJS(&quot;percentComplete;&quot;)),1)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="171167292392975">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="406784950439279" type="System">
                            <param id="0" name="Variable">IsImageUploaded</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="399502296323976" type="System" />
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="505242913868013" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action id="0" name="Call function" sid="447725158534431" type="Function">
                            <param id="0" name="Name">&quot;Speak_UI&quot;</param>
                            <param id="1" name="Parameter {n}">(Browser.ExecJS(&quot;textresult;&quot;))</param>
                        </action>
                        <action id="14" name="Log" sid="582085704370028" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;RESULT &quot; &amp; (Browser.ExecJS(&quot;textresult;&quot;))</param>
                        </action>
                        <action id="-10" name="Set value" sid="590530130000130" type="Canvas">
                            <param id="0" name="Instance variable">LastScreen</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                        <action id="-12" name="Set group active" sid="741262712265650" type="System">
                            <param id="0" name="Group name">&quot;CheckOut&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="660997081783785" title="Lib_RequestFullScreen">
            <sub-events>
                <event-block sid="917173611028117">
                    <conditions>
                        <condition id="14" name="On tap" sid="427921517906778" type="Touch" />
                        <condition id="-20" name="Is on mobile device" sid="217464776840371" type="System" />
                        <condition id="10" inverted="1" name="Is fullscreen" sid="492156159357305" type="Browser" />
                    </conditions>
                    <actions>
                        <action id="10" name="Request fullscreen" sid="262880416554466" type="Browser">
                            <param id="0" name="Mode">3</param>
                        </action>
                        <action id="-12" name="Set group active" sid="651385490277726" type="System">
                            <param id="0" name="Group name">&quot;Lib_RequestFullScreen&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="509110588046684">
            <conditions>
                <condition id="14" name="On tap" sid="863376270267438" type="Touch" />
            </conditions>
            <actions>
                <action id="0" name="Request camera" sid="881582956557869" type="UserMedia">
                    <param id="0" name="Source">0</param>
                    <param id="1" name="Preferred width">0</param>
                    <param id="2" name="Preferred height">0</param>
                </action>
                <action id="0" name="Call function" sid="207869216310531" type="Function">
                    <param id="0" name="Name">&quot;Speak_UI&quot;</param>
                    <param id="1" name="Parameter {n}">&quot;Snapping photo&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="484674254620633" type="System">
                    <param id="0" name="Seconds">1.0</param>
                </action>
                <action id="0" name="Call function" sid="170398570797532" type="Function">
                    <param id="0" name="Name">&quot;TakeSnapshot&quot;</param>
                    <param id="1" name="Parameter {n}"></param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
